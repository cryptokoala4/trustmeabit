app.controller('navbarCtrl', ['$scope', '$auth', '$location', '$rootScope', '$http',
  function($scope, $auth, $location, $rootScope, $http){

    // CHECK IF USER IS LOGGED IN
    $scope.authResponse  = $auth.validateUser();
    $scope.authStatus = $scope.authResponse.$$state.status;

    $rootScope.$on('auth:login-success', function(ev, user) {
      $scope.loggedIn = true
    });

    // SHOW/HIDE BUTTONS
    if ($scope.authStatus == 1) {
      $scope.loggedIn = true;
    } else {
      $scope.loggedIn = false;
    };

    $scope.logout = function() {
      $auth.signOut();
      $scope.loggedIn = false;
    }
      $http
        .get('http://localhost:3000/wallets/show')
        .then(function(response){
          $scope.balance = response.data.balance / 100000000;
          // console.log(response.data.address);

          // $scope.addresses = response.data.address[0].address;
          // $scope.addresses = response.data.address;
          // console.log(response.data)//[0].balance;
    });

}])
