app.controller('navbarCtrl', ['$scope', '$auth', '$location', '$rootScope',
  function($scope, $auth, $location, $rootScope){

    // CHECK IF USER IS LOGGED IN
    $scope.authResponse  = $auth.validateUser();
    $scope.authStatus = $scope.authResponse.$$state.status;

    $rootScope.$on('auth:login-success', function(ev, user) {
      $scope.loggedIn = true
    });

    // SHOW/HIDE BUTTONS
    if ($scope.authStatus == 1) {
      $scope.loggedIn = true;
    } else {
      $scope.loggedIn = false;
    };

    $scope.logout = function() {
      $auth.signOut();
      $scope.loggedIn = false;
    }
}])


      // $scope.logout = function () {
      //   $auth.signOut().then(function(resp) {
      //     UserFactory.identity = null;
      //     $scope.loggedIn = null;
      //   }).catch(function(resp) {
      //     console.log(resp);
      //   });
      //   $rootScope.$on('auth:logout-success', function(ev) {
      //     alert('goodbye');
      //   });
      // };
